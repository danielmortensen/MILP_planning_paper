\section{Introduction}
The goal of public transportation is to provide transit services using cost effective and environmentally sound methods. Most public transportation systems include bus fleets where each bus traverses a route and ferries costumers between stops. This business model puts significant miles on the buses and while effective, has several drawbacks including maintenance costs and emissions. To help overcome these challenges, many transit authorities have begun adopting electric buses which, in addition to zero emissions also offer fewer maintenance costs, and access to renewable energy\cite{poornesh_comparative_2020}.
\par Electric buses however are not without problems of their own. When an electric bus refuels, it draws power and induces a load on electrical infrastructure known as `the grid'. The loads introduced by bus charging are substantial and can significantly increase the grid's maximum power draw\cite{stahleder_impact_2019}\cite{deb_impact_2017}\cite{boonraksa_impact_2019}. The increase in maximum draw can cause additional maintenance and expense for power companies. 
\par To recover these expenses, power companies bill more for high power use.  They include charges for the maximum average power, or a `demand' charge.  They also designate high use periods as `on-peak' and bill increased rates for energy and power. In the end, high loads are expensive for both power providers and transit authorities and can make large-scale bus charging cost prohibitive. 
\par One approach to managing charge costs, is to plan when and how much power will be drawn.  However, developing charge plans is complex and must work around route schedules, account for charge time, ensure sufficient battery charge, and consider differences between operation and offline hours.  In short, the solution must consider all aspects of the bus's day to day activities.
\par When a bus starts the day, it has a route and schedule assigned which tells the bus operator where to be and when to be there. Throughout the day, the bus returns to the hub to pick up passengers and recharge. 
\par Because the number of fast-chargers is limited, a bus may only charge if a charger is available and must leave on route as scheduled. Furthermore, because batteries may require several hours for a full charge, they may not have time finish. Lower charge rates may also be used for less power draw which further delays charge times. 
\par At the end of operation hours, each bus is stored in the bus depot and connected to a `slow' charger.  Slow-charging is preferable when possible because it draws less instantaneous power and prolongs battery life \cite{houbbadi_optimal_2019}.  Furthermore, charging during off-hours offers each bus the opportunity to charge at any time with no contention for charging resources. The buses reside in the bus depot until the next morning when they depart to run routes.
\par To maintain the bus battery state of charge in a nominal operations environment, there are several factors to consider including route schedules, on/off peak hours, additional grid loads, and the charge needs of individual buses. Finding a fiscally optimal charge schedule is refered to hereafter as the `charge problem' and is the focus of this paper.
\par The remainder of this paper is organized as follows: Section II gives a description of previous work for solving the charge problem and Section III describes the directed graph framework used for describing the operations environment.  Section IV extends the content of III to multi-graph solutions, and Section V describes a set of linear constraints that describe the battery charge dynamics.  Sections VI and VII describe the rate schedule used for billing and how this is frased as an objective function to minimize. Finally, Sections VIII, IX, and X briefly describe the optimization software used to solve the mixed integer linear program as developed in previous sections, present results, and describe future work.
